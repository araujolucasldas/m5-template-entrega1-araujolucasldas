"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.categoryRouter = void 0;
const express_1 = require("express");
const category_controllers_1 = require("../controllers/category.controllers");
const validateBody_middleware_1 = require("../middlewares/validateBody.middleware");
const category_schemas_1 = require("../schemas/category.schemas");
const isCategoryValid_middleware_1 = require("../middlewares/isCategoryValid.middleware");
const validateToken_middleware_1 = require("../middlewares/validateToken.middleware");
const isCategoryOwner_middleware_1 = require("../middlewares/isCategoryOwner.middleware");
exports.categoryRouter = (0, express_1.Router)();
const categoryControllers = new category_controllers_1.CategoryControllers();
exports.categoryRouter.use("/", validateToken_middleware_1.ValidateToken.execute);
exports.categoryRouter.post("/", validateBody_middleware_1.ValidateBody.execute(category_schemas_1.categoryCreateSchema), categoryControllers.create);
exports.categoryRouter.delete("/:id", isCategoryValid_middleware_1.isCategoryIdValid.execute, isCategoryOwner_middleware_1.isCategoryOwner.execute, categoryControllers.delete);
